// Remove the post card from the page
$("#post-<%= @post.id %>").fadeOut(300, function() {
  $(this).remove();

  // Check if there are no more posts and show the "no posts" message
  if ($('.dashboard-card').length === 0) {
    $('.dashboard-grid').html(`
      <div class="text-center py-5">
        <div class="dashboard-card" style="max-width: 500px; margin: 0 auto;">
          <div class="card-header">
            <h3 class="card-title">ğŸ“ ã¾ã æŠ•ç¨¿ãŒã‚ã‚Šã¾ã›ã‚“</h3>
          </div>
          <div class="card-content">
            <p>æœ€åˆã®æŠ•ç¨¿ã‚’ã—ã¦ã€ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã‚’ç››ã‚Šä¸Šã’ã¾ã›ã‚“ã‹ï¼Ÿ</p>
            <div class="card-actions">
              <a href="<%= new_post_path %>" class="btn btn-primary">æŠ•ç¨¿ã™ã‚‹</a>
            </div>
          </div>
        </div>
      </div>
    `);
  }
});

// Show success message
if (typeof bootstrap !== 'undefined') {
  // Create a temporary alert element
  const alertDiv = document.createElement('div');
  alertDiv.className = 'alert alert-success alert-dismissible fade show position-fixed';
  alertDiv.style.top = '20px';
  alertDiv.style.right = '20px';
  alertDiv.style.zIndex = '9999';
  alertDiv.innerHTML = `
    ç¿’æ…£æŠ•ç¨¿ãŒå‰Šé™¤ã•ã‚Œã¾ã—ãŸã€‚
    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
  `;
  document.body.appendChild(alertDiv);

  // Auto-dismiss after 3 seconds
  setTimeout(() => {
    if (alertDiv.parentNode) {
      alertDiv.remove();
    }
  }, 3000);
} else {
  alert('ç¿’æ…£æŠ•ç¨¿ãŒå‰Šé™¤ã•ã‚Œã¾ã—ãŸã€‚');
}
