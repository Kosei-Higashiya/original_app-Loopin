<%= form_with(model: habit_record, local: true, class: "habit-record-form") do |form| %>
  <% if habit_record.errors.any? %>
    <div class="alert alert-danger" role="alert">
      <h4><%= pluralize(habit_record.errors.count, "件") %>のエラーがあります:</h4>
      <ul class="mb-0">
        <% habit_record.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="mb-3">
    <%= form.label :title, "タイトル", class: "form-label" %>
    <%= form.text_field :title, class: "form-control", placeholder: "例：朝のランニング、読書30分など" %>
  </div>

  <div class="mb-3">
    <%= form.label :content, "内容", class: "form-label" %>
    <%= form.text_area :content, rows: 4, class: "form-control", 
        placeholder: "今日の習慣について詳しく書いてください..." %>
  </div>

  <div class="mb-3">
    <%= form.label :recorded_at, "記録日", class: "form-label" %>
    <%= form.date_field :recorded_at, class: "form-control", 
        value: habit_record.recorded_at || Date.current %>
  </div>

  <div class="mb-3 form-check">
    <%= form.check_box :is_public, class: "form-check-input" %>
    <%= form.label :is_public, "みんなの習慣として公開する", class: "form-check-label" %>
    <small class="form-text text-muted">
      チェックを入れると、他のユーザーもあなたの習慣記録を見ることができます
    </small>
  </div>

  <div class="form-actions">
    <%= form.submit "投稿する", class: "btn btn-primary" %>
    <%= link_to "キャンセル", habit_records_path, class: "btn btn-secondary" %>
  </div>
<% end %>